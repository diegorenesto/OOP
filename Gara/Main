import java.util.Random;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) throws Exception {
        Scanner tastiera = new Scanner(System.in);
        Random random = new Random();
        int cilindrata = random.nextInt(1000, 5000);
        int cilindrata2 = random.nextInt(1000, 5000);

        System.out.println("Inserisci il nome della Scuderia 1:");
        String nomeScuderia1 = tastiera.nextLine();
        System.out.println("Inserisci il nome della Scuderia 2:");
        String nomeScuderia2 = tastiera.nextLine();


        Pilota pilota1 = new Pilota("Diego", "Renesto", "Italia");
        Pilota pilota2 = new Pilota("Yassir", "Zanforlin", "Germania");

        Scuderia scuderia1 = new Scuderia(nomeScuderia1, cilindrata, pilota1);
        Scuderia scuderia2 = new Scuderia(nomeScuderia2, cilindrata2, pilota2);


        Gara gara = new Gara("Gran Premio");
        gara.aggiungiScuderia(scuderia1);
        gara.aggiungiScuderia(scuderia2);

        Cronometro cr1 = new Cronometro();
        Cronometro cr2 = new Cronometro();

        int tempoGiro1 = random.nextInt(1000, 5000);
        int tempoGiro2 = random.nextInt(1000, 5000);

        // inizio gara
        cr1.setStartTime();
        wait(tempoGiro1);
        cr1.setEndTime();
        cr1.calcolaIntTimer();

        cr2.setStartTime();
        wait(tempoGiro2);
        cr2.setEndTime();
        cr2.calcolaIntTimer();


        System.out.println("Tempo Scuderia 1: " + cr1.getTempoGiro() + " secondi");
        System.out.println("Tempo Scuderia 2: " + cr2.getTempoGiro() + " secondi");



        if (cr1.getTempoGiro() < cr2.getTempoGiro()) {
            System.out.println("La scuderia " + scuderia1.getScuderia() + " con il pilota " + scuderia1.getPilota().getNome() + " ha vinto");
        } else if (cr1.getTempoGiro() > cr2.getTempoGiro()) {
            System.out.println("La scuderia " + scuderia2.getScuderia() + " con il pilota " + scuderia2.getPilota().getNome() + " ha vinto");
        } else {
            System.out.println("La gara Ã¨ finita in pareggio");
        }

    }

    private static void wait(int tempo) {
        try {
            Thread.sleep(tempo);
        } catch (Exception e) {
            System.out.println(e.getMessage());
        }
    }
}
